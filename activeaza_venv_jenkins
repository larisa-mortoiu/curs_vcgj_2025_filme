#!/bin/bash

echo "ğŸ”§ [Jenkins] IniÈ›ializare mediu virtual..."

# CreeazÄƒ mediul virtual Ã®ntr-un folder temporar (bun pentru Jenkins)
VENV_DIR=".venv_jenkins"

if [ ! -d "$VENV_DIR" ]; then
    python3 -m venv $VENV_DIR
    echo "âœ… Mediu virtual creat Ã®n $VENV_DIR"
fi

# ActiveazÄƒ mediul virtual
source $VENV_DIR/bin/activate
echo "âœ… Mediu virtual activat."

# InstaleazÄƒ Flask È™i pytest
echo "ğŸ“¦ Instalare dependenÈ›e..."
pip install --upgrade pip
pip install flask pytest

echo "ğŸ‰ Mediu Jenkins pregÄƒtit pentru rulare!"

